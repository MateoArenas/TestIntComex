@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Bienvenido a esta prueba tecnica</h1>
    <p>A continuación tendra dos opciones a escoger crear y listar, sientase libre de probarlas como mas guste.</p>
</div>
<br />
<div class="col-sm-12 justify-content-center row">
    <div class="card col-sm-4">
        <div class="card-body">
            <h5 class="card-title">Listar contactos</h5>
            <p class="card-text">Aqui podras visulizar las solicitd de contactos guardadas hasta el momento.</p>
            <a class="btn btn-outline-primary" id="btnConsult">Consultar</a>
        </div>
    </div>
    <div class="col-sm-2"></div>
    <div class="card col-sm-4">
        <div class="card-body">
            <h5 class="card-title">Guardar contacto</h5>
            <p class="card-text">Aqui podras guardar nuevos contactos ingresando todos los campos necesarios.</p>
            <button class="btn btn-outline-primary" data-toggle="modal" data-target="#ModalSave" onclick="ChargeCodeFuntion()">Registrar</button>
        </div>
    </div>
</div>

<div class="modal fade bd-example-modal-lg" id="ModalSave" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Información de contacto</h5>
                <button type="button" onclick="CloseModal()" class="btn btn-outline-danger">
                    <i class="bi bi-x-circle-fill"></i>
                </button>
            </div>
            <div class="modal-body">
                @using (Html.BeginForm("SaveContact", "Home", FormMethod.Post))
                {
                    <div class="form-group row">
                        <label for="strClientCode" class="col-sm-4 col-form-label">Codigo del cliente:</label>
                        <div class="col-sm-8">
                            <input type="text" readonly class="form-control-plaintext" id="strClientCode" name="strClientCode">
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="strUserName" class="col-sm-4 col-form-label">Usuario:*</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="strUserName" name="strUserName">
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="strName" class="col-sm-4 col-form-label">Nombre:*</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="strName" name="strName" placeholder="Nombre:*"> 
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="strPosition" class="col-sm-4 col-form-label">Cargo:*</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="strPosition" name="strPosition" placeholder="Cargo:*">
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="strPhone" class="col-sm-4 col-form-label">Teléfono:*</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="strPhone" name="strPhone" placeholder="Teléfono:*">
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="strEmail" class="col-sm-4 col-form-label">Correo Electronico:*</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="strEmail" name="strEmail" placeholder="Correo Electronico:*">
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="strCellphone" class="col-sm-4 col-form-label">Número celular:*</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="strCellphone" name="strCellphone" placeholder="Número celular:*">
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="strCellphone" class="col-sm-4 col-form-label">Número celular:*</label>
                        <div class="col-sm-8">
                            @Html.DropDownList("IdContactType", new SelectList(ViewBag.ContactsType, "Id", "Description"),"-Seleccione tipo de contacto-", new {@class="form-control"})
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="boolAutorizeWebStore" class="col-sm-10 col-form-label">Autorizado para acceder a WebStore </label>
                        <div class="col-sm-2">
                            @Html.CheckBox("boolAutorizeWebStore")
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="boolAutorizeOrders" class="col-sm-10 col-form-label">Autorizado para crear ordenes </label>
                        <div class="col-sm-2">
                            @Html.CheckBox("boolAutorizeOrders")
                        </div>
                    </div>
                    <br />
                    <div class="form-group row">
                        <label for="boolSendInformation" class="col-sm-10 col-form-label">¿Desea que se envie la información de acceso al usuario? </label>
                        <div class="col-sm-2">
                            @Html.CheckBox("boolSendInformation")
                        </div>
                    </div>
                }
            </div>
            <div class="modal-footer">  
                <button type="button" class="btn btn-primary" onclick="ValidateAndSave()">Save changes</button>
                <button type="button" class="btn btn-outline-danger" onclick="CloseModal()">Cancelar</button>
            </div>
        </div>
    </div>
</div>

@section Scripts
    {
    <script type="text/javascript">
        $(document).ready(function(){
            $("#strClientCode").val("xmxwebdemo2");

            Swal.fire({
                title: '',
                html: 'Cargando datos iniciales...',
                timer: 1000,
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading();
                }
            });
        });

        function ChargeCodeFuntion() {
            $("#ModalSave").modal("show");
        }
        function CloseModal() {
            $("#ModalSave").modal("hide");
        }

        function CloseModal() {
            $("#ModalSave").modal("hide");
        }
    </script>
}
